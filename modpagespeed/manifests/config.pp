define pagespeed::config (
  $modpagespeed = 'on',
  $inheritvhostconfig = 'on',
  $outputfilter_html = 'on',
  $outputfilter_xml = '',
  $filecachepath = '/var/cache/mod_pagespeed/',
  $logdir = '/var/log/pagespeed',
  $memcachedservers = '',
  $metadatacache = '',
  $rewritelevel = '',
  $disablefilters = '',
  $enablefilters = '',
  $forbidfilters = '',
  $rewritedeadlineperflushms = '',
  $domain = '',
  $filecachesizekb = '',
  $filecachecleanintervalms = '',
  $lrucachekbperprocess = '',
  $lrucachebytelimit = '',
  $cssflattenmaxbytes = '',
  $cssinlinemaxbytes = '',
  $cssimageinlinemaxbytes = '',
  $imageinlinemaxbytes = '',
  $jsinlinemaxbytes = '',
  $cssoutlineminbytes = '',
  $jsoutlineminbytes = '',
  $filecacheinodelimit = '500000',
  $imagemaxrewritesatonce = '',
  $numrewritethreads = '',
  $numexpensiverewritethreads = '',
  $rewriterandomdroppercentage = '',
  $jspreserveurls = '',
  $imagepreserveurls = '',
  $csspreserveurls = '',
  $imagerecompressionquality = '',
  $jpegrecompressionquality = '',
  $jpegrecompressionqualityforsmallscreens = '',
  $imagewebprecompressionquality = '',
  $imagewebprecompressionqualityforsmallscreens = '',
  $imagewebptimeoutms = '',
  $imagelimitoptimizedpercent = '',
  $imagelimitresizeareapercent = '',
  $maxinlinedpreviewimagesindex = '',
  $minimagesizelowresolutionbytes = '',
  $maxsegmentlength = '',
  $combineacrosspaths = '',
  $avoidrenamingintrospectivejavascript = '',
  $library = [''],
  $loadfromfile = [''],
  $reportunloadtime = ''
){
  file { '/etc/httpd/conf.d/pagespeed.conf':
    ensure  => present,
    owner   => 'root',
    group   => 'root',
    mode    => '0664',
    content => template('pagespeed/pagespeed.erb'),
  }

}
